generator client {
  provider = "prisma-client-js"
}
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
model User {
  id          String   @id @default(cuid())
  email       String   @unique
  password    String
  name        String?

  hostedRoom  Room?    @relation("HostRoom")
  participant Room?    @relation("ParticipantRoom", fields: [participantRoomId], references: [id])
  participantRoomId String?   // ðŸ‘ˆ required, but no @unique

  createdAt   DateTime @default(now())

  @@map("user")
}


model Room {
  id           String   @id @default(cuid())
  name         String
  code         String   @unique
  hostId       String   @unique
  host         User     @relation("HostRoom", fields: [hostId], references: [id])
  participants User[]   @relation("ParticipantRoom")
  tracks       Track[]
  createdAt    DateTime @default(now())

    @@map("room")   // ðŸ‘ˆ force lowercase
}

model Track {
  id        String   @id @default(cuid())
  title     String
  artist    String?
  url       String
  roomId    String
  room      Room     @relation(fields: [roomId], references: [id])
  createdAt DateTime @default(now())

  @@map("track")   // ðŸ‘ˆ force lowercase
}




